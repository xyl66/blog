<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>web性能监控 | 小小强的博客</title>
    <meta name="generator" content="VuePress 1.5.3">
    <link rel="icon" href="/blog/favicon.ico">
    <meta name="description" content="没事就瞅瞅">
    <link rel="preload" href="/blog/assets/css/0.styles.5dc057b1.css" as="style"><link rel="preload" href="/blog/assets/js/app.24a91d39.js" as="script"><link rel="preload" href="/blog/assets/js/2.1f317ab3.js" as="script"><link rel="preload" href="/blog/assets/js/9.ead6f8d8.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.6a808f7a.js"><link rel="prefetch" href="/blog/assets/js/11.cdeb5c1e.js"><link rel="prefetch" href="/blog/assets/js/12.fed3ff45.js"><link rel="prefetch" href="/blog/assets/js/13.23f05ae8.js"><link rel="prefetch" href="/blog/assets/js/14.cbf7ba68.js"><link rel="prefetch" href="/blog/assets/js/15.3143e5ad.js"><link rel="prefetch" href="/blog/assets/js/16.3821d888.js"><link rel="prefetch" href="/blog/assets/js/17.f7ddc8ad.js"><link rel="prefetch" href="/blog/assets/js/18.73b85e33.js"><link rel="prefetch" href="/blog/assets/js/19.d6c09714.js"><link rel="prefetch" href="/blog/assets/js/20.3e9a89f8.js"><link rel="prefetch" href="/blog/assets/js/21.64c9228e.js"><link rel="prefetch" href="/blog/assets/js/22.0c1440ed.js"><link rel="prefetch" href="/blog/assets/js/23.bd75e1c0.js"><link rel="prefetch" href="/blog/assets/js/24.174ba47c.js"><link rel="prefetch" href="/blog/assets/js/25.c1d8912f.js"><link rel="prefetch" href="/blog/assets/js/26.8fc06002.js"><link rel="prefetch" href="/blog/assets/js/27.2f941a6f.js"><link rel="prefetch" href="/blog/assets/js/28.79a68881.js"><link rel="prefetch" href="/blog/assets/js/29.1c5d6695.js"><link rel="prefetch" href="/blog/assets/js/3.42f6fd94.js"><link rel="prefetch" href="/blog/assets/js/30.68bb7b53.js"><link rel="prefetch" href="/blog/assets/js/31.4a1a1134.js"><link rel="prefetch" href="/blog/assets/js/32.4bb9a7ec.js"><link rel="prefetch" href="/blog/assets/js/33.1d6839ec.js"><link rel="prefetch" href="/blog/assets/js/34.35ba1547.js"><link rel="prefetch" href="/blog/assets/js/35.7181641a.js"><link rel="prefetch" href="/blog/assets/js/36.207217d3.js"><link rel="prefetch" href="/blog/assets/js/37.ec3d06b1.js"><link rel="prefetch" href="/blog/assets/js/38.e8d4d8b5.js"><link rel="prefetch" href="/blog/assets/js/39.a5f6daf4.js"><link rel="prefetch" href="/blog/assets/js/4.4d318515.js"><link rel="prefetch" href="/blog/assets/js/5.c10b1df6.js"><link rel="prefetch" href="/blog/assets/js/6.37e2f3ee.js"><link rel="prefetch" href="/blog/assets/js/7.540a3aba.js"><link rel="prefetch" href="/blog/assets/js/8.8995518e.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.5dc057b1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">小小强的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/blog/article/" class="nav-link router-link-active">
  随笔
</a></div><div class="nav-item"><a href="/blog/studys/" class="nav-link">
  记录
</a></div><div class="nav-item"><a href="/blog/work/" class="nav-link">
  面试
</a></div><div class="nav-item"><a href="https://blog.csdn.net/a8725585" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/blog/article/" class="nav-link router-link-active">
  随笔
</a></div><div class="nav-item"><a href="/blog/studys/" class="nav-link">
  记录
</a></div><div class="nav-item"><a href="/blog/work/" class="nav-link">
  面试
</a></div><div class="nav-item"><a href="https://blog.csdn.net/a8725585" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/blog/article/babel.html" class="sidebar-link">babel使用</a></li><li><a href="/blog/article/bug.html" aria-current="page" class="active sidebar-link">web性能监控</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/article/bug.html#前言：为什么需要监控？" class="sidebar-link">前言：为什么需要监控？</a></li><li class="sidebar-sub-header"><a href="/blog/article/bug.html#监控什么？" class="sidebar-link">监控什么？</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/article/bug.html#_1-页面访问速度：白屏、首屏时间、可交互时间" class="sidebar-link">1.页面访问速度：白屏、首屏时间、可交互时间</a></li><li class="sidebar-sub-header"><a href="/blog/article/bug.html#_2-页面稳定性：页面出错情况" class="sidebar-link">2.页面稳定性：页面出错情况</a></li><li class="sidebar-sub-header"><a href="/blog/article/bug.html#_3-外部服务调用" class="sidebar-link">3.外部服务调用</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/article/bug.html#监控的分类？" class="sidebar-link">监控的分类？</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/article/bug.html#合成监控" class="sidebar-link">合成监控</a></li><li class="sidebar-sub-header"><a href="/blog/article/bug.html#二、真实用户监控" class="sidebar-link">二、真实用户监控</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/article/bug.html#performance-分析" class="sidebar-link">performance 分析</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/article/bug.html#基本属性" class="sidebar-link">基本属性</a></li><li class="sidebar-sub-header"><a href="/blog/article/bug.html#基本方法" class="sidebar-link">基本方法</a></li><li class="sidebar-sub-header"><a href="/blog/article/bug.html#提供的-api" class="sidebar-link">提供的 API</a></li><li class="sidebar-sub-header"><a href="/blog/article/bug.html#总结" class="sidebar-link">总结</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/article/bug.html#如何监控？" class="sidebar-link">如何监控？</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/article/bug.html#_1-基本性能上报" class="sidebar-link">1.基本性能上报</a></li><li class="sidebar-sub-header"><a href="/blog/article/bug.html#_2-首屏时间计算" class="sidebar-link">2.首屏时间计算</a></li><li class="sidebar-sub-header"><a href="/blog/article/bug.html#_3-异常上报" class="sidebar-link">3.异常上报</a></li><li class="sidebar-sub-header"><a href="/blog/article/bug.html#_4-cgi-上报" class="sidebar-link">4.CGI 上报</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/article/bug.html#参考文章" class="sidebar-link">参考文章</a></li></ul></li><li><a href="/blog/article/docker.html" class="sidebar-link">Docker 初体验</a></li><li><a href="/blog/article/download.html" class="sidebar-link">html5属性download</a></li><li><a href="/blog/article/eslint.html" class="sidebar-link">vue项目设置eslint规则校验</a></li><li><a href="/blog/article/first.html" class="sidebar-link">SSR-Nuxt</a></li><li><a href="/blog/article/git_ignore.html" class="sidebar-link">忽略配置项脚本</a></li><li><a href="/blog/article/init_proejct.html" class="sidebar-link">项目搭建</a></li><li><a href="/blog/article/js_run.html" class="sidebar-link">js运行流程</a></li><li><a href="/blog/article/linux.html" class="sidebar-link">linux环境部署</a></li><li><a href="/blog/article/second.html" class="sidebar-link">css选择器权重</a></li><li><a href="/blog/article/unit.html" class="sidebar-link">前端测试</a></li><li><a href="/blog/article/viteupdate.html" class="sidebar-link">webpack迁移至vite</a></li><li><a href="/blog/article/vscode.html" class="sidebar-link">Vscode-常用插件</a></li><li><a href="/blog/article/vue3.html" class="sidebar-link">Vue3优化功能总结</a></li><li><a href="/blog/article/vue3base.html" class="sidebar-link">Vue3响应式实现原理</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="web性能监控"><a href="#web性能监控" class="header-anchor">#</a> web性能监控</h1> <blockquote><p>文章转载自: AlloyTeam：http://www.alloyteam.com/2020/01/14184/
作者: liu, summerqy</p></blockquote> <p>也许你有听过一个问题，你这款 web 应用性能怎么样呀？你会回答什么呢？是否会优于海量 web 应用市场呢？本文就来整理下如何进行 web 性能监控？包括我们需要监控的指标、监控的分类、performance 分析以及如何监控。</p> <p>但是，如何进行 web 性能监控本身是一个很大的话题，文中只会侧重一部分进行研究，某些内容不是很全面。</p> <h2 id="前言：为什么需要监控？"><a href="#前言：为什么需要监控？" class="header-anchor">#</a> 前言：为什么需要监控？</h2> <p>web 的性能一定程度上影响了用户留存率，Google DoubleClick 研究表明：如果一个移动端页面加载时长超过 3 秒，用户就会放弃而离开。BBC 发现网页加载时长每增加 1 秒，用户就会流失 10%。</p> <p>我们希望通过监控来知道 web 应用性能的现状和趋势，找到 web 应用的瓶颈？某次发布后的性能情况怎么样？是否发布后对性能有影响？感知到业务出错的概率？业务的稳定性怎么样？</p> <h2 id="监控什么？"><a href="#监控什么？" class="header-anchor">#</a> 监控什么？</h2> <p>首先我们需要知道应该监控些什么呢？有哪些具体的指标？</p> <p>google 开发者提出了一种 RAIL 模型来衡量应用性能，即：Response、Animation、Idle、Load，分别代表着 web 应用生命周期的四个不同方面。并指出最好的性能指标是：100ms 内响应用户输入；动画或者滚动需在 10ms 内产生下一帧；最大化空闲时间；页面加载时长不超过 5 秒。</p> <p><img src="https://tva1.sinaimg.cn/large/006tNbRwgy1gah4zxc779j314w0u07bg.jpg" alt="图片">
我们可转化为三个方面来看：响应速度、页面稳定性、外部服务调用</p> <ul><li>响应速度：页面初始访问速度 + 交互响应速度</li> <li>页面稳定性：页面出错率</li> <li>外部服务调用：网络请求访问速度</li></ul> <h3 id="_1-页面访问速度：白屏、首屏时间、可交互时间"><a href="#_1-页面访问速度：白屏、首屏时间、可交互时间" class="header-anchor">#</a> 1.页面访问速度：白屏、首屏时间、可交互时间</h3> <p>我们来看看 google 开发者针对用户体验，提出的几个性能指标
<img src="https://tva1.sinaimg.cn/large/006tNbRwgy1gah51k3lg8j31bi0gg45d.jpg" alt="图片"></p> <p>这几个指标其实都是根据用户体验，提炼出对应的性能指标
<img src="https://tva1.sinaimg.cn/large/006tNbRwgy1gah52b9pkrj30v00bwabn.jpg" alt="图片"></p> <h4 id="_1）first-paint-fp-and-first-contentful-paint-fcp"><a href="#_1）first-paint-fp-and-first-contentful-paint-fcp" class="header-anchor">#</a> 1）first paint (FP) and first contentful paint (FCP)</h4> <p>首次渲染、首次有内容的渲染</p> <p>这两个指标浏览器已经标准化了，从 performance 的 The Paint Timing API 可以获取到，一般来说两个时间相同，但也有情况下两者不同。
<img src="https://tva1.sinaimg.cn/large/006tNbRwgy1gah52tov3jj30pa0gagod.jpg" alt="图片"></p> <h4 id="_2）first-meaningful-paint-and-hero-element-timing"><a href="#_2）first-meaningful-paint-and-hero-element-timing" class="header-anchor">#</a> 2）First meaningful paint and hero element timing</h4> <p>首次有意义的渲染、页面关键元素</p> <p>我们假设当一个网页的 DOM 结构发生剧烈的变化的时候，就是这个网页主要内容出现的时候，那么在这样的一个时间点上，就是首次有意义的渲染。这个指标浏览器还没有规范，毕竟很难统一一个标准来定义网站的主体内容。</p> <p>google lighthouse 定义的 first meaningful paint：https://docs.google.com/document/d/1BR94tJdZLsin5poeet0XoTW60M0SjvOJQttKT-JK8HI/view</p> <h4 id="_3）time-to-interactive"><a href="#_3）time-to-interactive" class="header-anchor">#</a> 3）Time to interactive</h4> <p>可交互时间</p> <h4 id="_4）长任务"><a href="#_4）长任务" class="header-anchor">#</a> 4）长任务</h4> <p>浏览器是单线程的，如果长任务过多，那必然会影响着用户响应时长。好的应用需要最大化空闲时间，以保证能最快响应用户的输入。
<img src="https://tva1.sinaimg.cn/large/006tNbRwgy1gah53416gmj31bg0kgn9i.jpg" alt="图片"></p> <h3 id="_2-页面稳定性：页面出错情况"><a href="#_2-页面稳定性：页面出错情况" class="header-anchor">#</a> 2.页面稳定性：页面出错情况</h3> <ul><li>资源加载错误</li> <li>JS 执行报错</li></ul> <h3 id="_3-外部服务调用"><a href="#_3-外部服务调用" class="header-anchor">#</a> 3.外部服务调用</h3> <ul><li>CGI 耗时</li> <li>CGI 成功率</li> <li>CDN 资源耗时</li></ul> <h2 id="监控的分类？"><a href="#监控的分类？" class="header-anchor">#</a> 监控的分类？</h2> <p>web 性能监控可分为两类，一类是合成监控（Synthetic Monitoring，SYN），另一类是真实用户监控（Real User Monitoring，RUM）</p> <h3 id="合成监控"><a href="#合成监控" class="header-anchor">#</a> 合成监控</h3> <p>合成监控是采用 web 浏览器模拟器来加载网页，通过模拟终端用户可能的操作来采集对应的性能指标，最后输出一个网站性能报告。例如：<code>Lighthouse</code>、<code>PageSpeed</code>、<code>WebPageTest</code>、<code>Pingdom</code>、<code>PhantomJS</code> 等。</p> <h4 id="_1-lighthouse"><a href="#_1-lighthouse" class="header-anchor">#</a> 1. Lighthouse</h4> <p><code>Lighthouse</code> 是 google 一个开源的自动化工具，运行 <code>Lighthouse</code> 的方式有两种：一种是作为 Chrome 扩展程序运行；另一种作为命令行工具运行。Chrome 扩展程序提供了一个对用户更友好的界面，方便读取报告。通过命令行工具可以将 <code>Lighthouse</code> 集成到持续集成系统。</p> <p>展示了白屏、首屏、可交互时间等性能指标和 SEO、PWA 等。</p> <p>腾讯文档移动端官网首页测速结果：
<img src="https://tva1.sinaimg.cn/large/006tNbRwgy1gah53h9fohj30u01d37fc.jpg" alt="图片"></p> <h4 id="_2-pagespeed"><a href="#_2-pagespeed" class="header-anchor">#</a> 2. PageSpeed</h4> <p>https://developers.google.com/speed/pagespeed/insights/</p> <p>不仅展示了一些主要的性能指标数据，还给出了部分性能优化建议。</p> <p>腾讯文档移动端首页测速结果和性能优化建议：
<img src="https://tva1.sinaimg.cn/large/006tNbRwgy1gah53rtaaij30u01b4n8n.jpg" alt="图片"></p> <h4 id="_3-webpagetest"><a href="#_3-webpagetest" class="header-anchor">#</a> 3. WebPageTest</h4> <p>WebPageTest</p> <p>给出性能测速结果和资源加载的瀑布图。
<img src="https://tva1.sinaimg.cn/large/006tNbRwgy1gah546pqeij30vw0u0wv2.jpg" alt="图片"></p> <h4 id="_4-pingdom"><a href="#_4-pingdom" class="header-anchor">#</a> 4. Pingdom</h4> <p>https://www.pingdom.com/</p> <p>注意：Pingdom 不仅提供合成监控，也提供真实用户监控。
<img src="https://tva1.sinaimg.cn/large/006tNbRwgy1gah54gtu29j311d0u0tie.jpg" alt="图片"></p> <p>合成监控方式的优缺点：</p> <p>优点：</p> <ul><li>无侵入性。</li> <li>简单快捷。缺点：</li> <li>不是真实的用户访问情况，只是模拟的。</li> <li>没法考虑到登录的情况，对于需要登录的页面就无法监控到。</li></ul> <h3 id="二、真实用户监控"><a href="#二、真实用户监控" class="header-anchor">#</a> 二、真实用户监控</h3> <p>真实用户监控是一种被动监控技术，是一种应用服务，被监控的 web 应用通过 sdk 等方式接入该服务，将真实的用户访问、交互等性能指标数据收集上报、通过数据清洗加工后形成性能分析报表。例如 <code>FrontJs</code>、<code>oneapm</code>、<code>Datadog</code> 等。
<img src="https://tva1.sinaimg.cn/large/006tNbRwgy1gah55go4uwj31mq0b2q50.jpg" alt="图片"></p> <h4 id="_1-oneapm"><a href="#_1-oneapm" class="header-anchor">#</a> 1. oneapm</h4> <p>https://www.oneapm.com/bi/feature.html</p> <p>功能包括：大盘数据、特征统计、慢加载追踪、访问页面、脚本错误、AJAX、组合分析、报表、告警等。
<img src="https://tva1.sinaimg.cn/large/006tNbRwgy1gah5546jc8j31vd0u07nj.jpg" alt="图片"></p> <h5 id="_2-datadog"><a href="#_2-datadog" class="header-anchor">#</a> 2. Datadog</h5> <p>https://www.datadoghq.com/rum/
<img src="https://tva1.sinaimg.cn/large/006tNbRwgy1gah55pv17yj31gf0u0x5y.jpg" alt="图片"></p> <h4 id="_3-frontjs"><a href="#_3-frontjs" class="header-anchor">#</a> 3. FrontJs</h4> <p>https://www.frontjs.com/</p> <p>功能包括：访问性能、异常监控、报表、趋势等。
<img src="https://tva1.sinaimg.cn/large/006tNbRwgy1gah55yona3j31sy0u01ff.jpg" alt="图片"></p> <p>这种监控方式的优缺点：</p> <p>优点：</p> <ul><li>是真实用户访问情况。
可以观察历史性能趋势。</li> <li>有一些额外的功能：报表推送、监控告警等等。缺点：</li> <li>有侵入性，会一定程度上响应 web 性能。</li></ul> <h2 id="performance-分析"><a href="#performance-分析" class="header-anchor">#</a> performance 分析</h2> <p>在讲如何监控之前，先来看看浏览器提供的 performance api，这也是性能监控数据的主要来源。</p> <p>performance 提供高精度的时间戳，精度可达纳秒级别，且不会随操作系统时间设置的影响。</p> <p>目前市场上的支持情况：主流浏览器都支持，大可放心使用。
<img src="https://tva1.sinaimg.cn/large/006tNbRwgy1gah5ba37dfj31yo0hq42c.jpg" alt="图片"></p> <h3 id="基本属性"><a href="#基本属性" class="header-anchor">#</a> 基本属性</h3> <p><img src="https://tva1.sinaimg.cn/large/006tNbRwgy1gah5be2ewkj31tg092n0v.jpg" alt="图片"></p> <p>performance.navigation: 页面是加载还是刷新、发生了多少次重定向
<img src="https://tva1.sinaimg.cn/large/006tNbRwgy1gah5bnvq8mj30ne05ijs4.jpg" alt="图片"></p> <p>performance.timing: 页面加载的各阶段时长
<img src="https://tva1.sinaimg.cn/large/006tNbRwgy1gah5bwyq4mj30mg0o0wjy.jpg" alt="图片"></p> <p>各阶段的含义：
<img src="https://tva1.sinaimg.cn/large/006tNbRwgy1gah5cm2r73j31g20u0x6r.jpg" alt="图片"></p> <p>performance.memory：基本内存使用情况，Chrome 添加的一个非标准扩展
<img src="https://tva1.sinaimg.cn/large/006tNbRwgy1gah5cbazibj315q06eq4i.jpg" alt="图片"></p> <p>performance.timeorigin: 性能测量开始时的时间的高精度时间戳
<img src="https://tva1.sinaimg.cn/large/006tNbRwgy1gah5cviad6j30dm026mx8.jpg" alt="图片"></p> <h3 id="基本方法"><a href="#基本方法" class="header-anchor">#</a> 基本方法</h3> <ul><li><code>performance.getEntries()</code></li></ul> <p>通过这个方法可以获取到所有的 <code>performance</code> 实体对象，通过 <code>getEntriesByName</code> 和 <code>getEntriesByType</code> 方法可对所有的 <code>performance</code> 实体对象 进行过滤，返回特定类型的实体。</p> <p><code>mark</code> 方法 和 <code>measure</code> 方法的结合可打点计时，获取某个函数执行耗时等。
<img src="https://tva1.sinaimg.cn/large/006tNbRwgy1gah5dbnjlej31nq0u01es.jpg" alt="图片"></p> <ul><li><code>performance.getEntriesByName()</code></li> <li><code>performance.getEntriesByType()</code></li> <li><code>performance.mark()</code></li> <li><code>performance.clearMarks()</code></li> <li><code>performance.measure()</code></li> <li><code>performance.clearMeasures()</code></li> <li><code>performance.now()</code>...</li></ul> <h3 id="提供的-api"><a href="#提供的-api" class="header-anchor">#</a> 提供的 API</h3> <p>performance 也提供了多种 API，不同的 API 之间可能会有重叠的部分。</p> <h4 id="_1-performanceobserver-api"><a href="#_1-performanceobserver-api" class="header-anchor">#</a> 1. PerformanceObserver API</h4> <p>用于检测性能的事件，这个 API 利用了观察者模式。</p> <p>获取资源信息
<img src="https://tva1.sinaimg.cn/large/006tNbRwgy1gah5dyhhrtj31g40liq6s.jpg" alt="图片">
监测 TTI
<img src="https://tva1.sinaimg.cn/large/006tNbRwgy1gah5e76hzhj30yq0bsgna.jpg" alt="图片"></p> <p>监测 长任务
<img src="https://tva1.sinaimg.cn/large/006tNbRwgy1gah5f4cbcsj30uo0dk76r.jpg" alt="图片"></p> <h4 id="_2-navigation-timing-api"><a href="#_2-navigation-timing-api" class="header-anchor">#</a> 2. Navigation Timing API</h4> <p>https://www.w3.org/TR/navigation-timing-2/</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>performance<span class="token punctuation">.</span><span class="token function">getEntriesByType</span><span class="token punctuation">(</span><span class="token string">&quot;navigation&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="https://tva1.sinaimg.cn/large/006tNbRwgy1gah5foxbyej30u011ath3.jpg" alt="图片"> <img src="https://tva1.sinaimg.cn/large/006tNbRwgy1gah5g41v1jj318o0dugnt.jpg" alt="图片"></p> <p>不同阶段之间是连续的吗? —— 不连续</p> <p>每个阶段都一定会发生吗？—— 不一定</p> <ul><li>重定向次数：performance.navigation.redirectCount</li> <li>重定向耗时: redirectEnd - redirectStart</li> <li>DNS 解析耗时: domainLookupEnd - domainLookupStart</li> <li>TCP 连接耗时: connectEnd - connectStart</li> <li>SSL 安全连接耗时: connectEnd - secureConnectionStart</li> <li>网络请求耗时 (TTFB): responseStart - requestStart</li> <li>数据传输耗时: responseEnd - responseStart</li> <li>DOM 解析耗时: domInteractive - responseEnd</li> <li>资源加载耗时: loadEventStart - domContentLoadedEventEnd</li> <li>首包时间: responseStart - domainLookupStart</li> <li>白屏时间: domloading/dominteractive - fetchStart</li> <li>首次可交互时间: domInteractive - fetchStart</li> <li>DOM Ready 时间: domContentLoadEventEnd - fetchStart</li> <li>页面完全加载时间: loadEventStart - fetchStart</li> <li>http 头部大小：transferSize - encodedBodySize</li></ul> <h4 id="_3-resource-timing-api"><a href="#_3-resource-timing-api" class="header-anchor">#</a> 3. Resource Timing API</h4> <p>https://w3c.github.io/resource-timing/</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>performance<span class="token punctuation">.</span><span class="token function">getEntriesByType</span><span class="token punctuation">(</span><span class="token string">&quot;resource&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="https://tva1.sinaimg.cn/large/006tNbRwgy1gah5gxga20j31as0u01kx.jpg" alt="图片"> <img src="https://tva1.sinaimg.cn/large/006tNbRwgy1gah5h63g05j31c60le0w9.jpg" alt="图片"></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 某类资源的加载时间，可测量图片、js、css、XHR</span>
resourceListEntries<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">resource</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>resource<span class="token punctuation">.</span>initiatorType <span class="token operator">==</span> <span class="token string">'img'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Time taken to load </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>resource<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">: </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> resource<span class="token punctuation">.</span>responseEnd <span class="token operator">-</span> resource<span class="token punctuation">.</span>startTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>这个数据和 chrome 调式工具里 network 的瀑布图数据是一样的。</p> <h4 id="_4-paint-timing-api"><a href="#_4-paint-timing-api" class="header-anchor">#</a> 4. paint Timing API</h4> <p>https://w3c.github.io/paint-timing/</p> <p>首屏渲染时间(FP)、首次有内容渲染时间(FCP)
<img src="https://tva1.sinaimg.cn/large/006tNbRwgy1gah5inwonkj30rq0g4acu.jpg" alt="图片"></p> <h4 id="_5-user-timing-api"><a href="#_5-user-timing-api" class="header-anchor">#</a> 5. User Timing API</h4> <p>https://www.w3.org/TR/user-timing-2/#introduction
主要是利用 mark 和 measure 方法去打点计算某个阶段的耗时，例如某个函数的耗时等。</p> <h4 id="_6-high-resolution-time-api"><a href="#_6-high-resolution-time-api" class="header-anchor">#</a> 6. High Resolution Time API</h4> <p>https://w3c.github.io/hr-time/#dom-performance-timeorigin</p> <p>主要包括 now() 方法和 timeOrigin 属性。</p> <h4 id="_7-performance-timeline-api"><a href="#_7-performance-timeline-api" class="header-anchor">#</a> 7. Performance Timeline API</h4> <p>https://www.w3.org/TR/performance-timeline-2/#introduction</p> <h3 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h3> <h4 id="基于-performance-我们可以测量如下几个方面："><a href="#基于-performance-我们可以测量如下几个方面：" class="header-anchor">#</a> 基于 performance 我们可以测量如下几个方面：</h4> <p>mark、measure、navigation、resource、paint、frame。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> p <span class="token operator">=</span> window<span class="token punctuation">.</span>performance<span class="token punctuation">.</span><span class="token function">getEntries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>重定向次数：<code>performance.navigation.redirectCount</code></p> <p>JS 资源数量: <code>p.filter(ele =&gt; ele.initiatorType === &quot;script&quot;).length</code></p> <p>CSS 资源数量：<code>p.filter(ele =&gt; ele.initiatorType === &quot;css&quot;).length</code></p> <p>AJAX 请求数量：<code>p.filter(ele =&gt; ele.initiatorType === &quot;xmlhttprequest&quot;).length</code></p> <p>IMG 资源数量：<code>p.filter(ele =&gt; ele.initiatorType === &quot;img&quot;).length</code></p> <p>总资源数量: <code>window.performance.getEntriesByType(&quot;resource&quot;).length</code></p> <h4 id="不重复的耗时时段区分："><a href="#不重复的耗时时段区分：" class="header-anchor">#</a> 不重复的耗时时段区分：</h4> <p>重定向耗时: redirectEnd - redirectStart</p> <p>DNS 解析耗时: domainLookupEnd - domainLookupStart</p> <p>TCP 连接耗时: connectEnd - connectStart</p> <p>SSL 安全连接耗时: connectEnd - secureConnectionStart</p> <p>网络请求耗时 (TTFB): responseStart - requestStart</p> <p>HTML 下载耗时：responseEnd - responseStart</p> <p>DOM 解析耗时: domInteractive - responseEnd</p> <p>资源加载耗时: loadEventStart - domContentLoadedEventEnd</p> <h4 id="其他组合分析："><a href="#其他组合分析：" class="header-anchor">#</a> 其他组合分析：</h4> <p>白屏时间: domLoading - fetchStart</p> <p>粗略首屏时间: loadEventEnd - fetchStart 或者 domInteractive - fetchStart</p> <p>DOM Ready 时间: domContentLoadEventEnd - fetchStart</p> <p>页面完全加载时间: loadEventStart - fetchStart</p> <h4 id="js-总加载耗时"><a href="#js-总加载耗时" class="header-anchor">#</a> JS 总加载耗时:</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> p <span class="token operator">=</span> window<span class="token punctuation">.</span>performance<span class="token punctuation">.</span><span class="token function">getEntries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> cssR <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">ele</span> <span class="token operator">=&gt;</span> ele<span class="token punctuation">.</span>initiatorType <span class="token operator">===</span> <span class="token string">&quot;script&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>cssR<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">ele</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> ele<span class="token punctuation">.</span>responseEnd<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token operator">...</span>cssR<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">ele</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> ele<span class="token punctuation">.</span>startTime<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="css-总加载耗时"><a href="#css-总加载耗时" class="header-anchor">#</a> CSS 总加载耗时:</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> p <span class="token operator">=</span> window<span class="token punctuation">.</span>performance<span class="token punctuation">.</span><span class="token function">getEntries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> cssR <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">ele</span> <span class="token operator">=&gt;</span> ele<span class="token punctuation">.</span>initiatorType <span class="token operator">===</span> <span class="token string">&quot;css&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>cssR<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">ele</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> ele<span class="token punctuation">.</span>responseEnd<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token operator">...</span>cssR<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">ele</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> ele<span class="token punctuation">.</span>startTime<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="如何监控？"><a href="#如何监控？" class="header-anchor">#</a> 如何监控？</h2> <p>在了解了 performance 之后，我们来看看，具体是如何监控的？
<img src="https://mmbiz.qpic.cn/mmbiz_jpg/YBFV3Da0NwsKDJJUkJTEwLBWnTCxr1TrzAY9KbXZ8lt4q6jSHk6NtIR840OlS2JpQNyDFLZqGDW8xDeKXTxFIg/640?wx_fmt=jpeg&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">
总体流程：性能指标收集与数据上报—数据存储—数据聚合—分析展示—告警、报表推送</p> <p>这里主要讲述如何收集性能数据。</p> <p>性能指标收集注意项：</p> <ul><li>保证数据的准确性</li> <li>尽量不影响应用的性能</li></ul> <h3 id="_1-基本性能上报"><a href="#_1-基本性能上报" class="header-anchor">#</a> 1.基本性能上报</h3> <p>采集数据：将<code>performance navagation timing</code> 中的所有点都上报，其余的上报内容可参考 <code>performance</code> 分析一节中截取部分上报。例如：白屏时间，<code>JS</code> 和 <code>CSS</code> 总数，以及加载总时长。</p> <p>其余可参考的上报：是否有缓存？是否启用 <code>gzip</code> 压缩、页面加载方式。在收集好性能数据后，即可将数据上报。</p> <p>那选择什么时机上报？</p> <p>google 开发者推荐的上报方式：
<img src="https://mmbiz.qpic.cn/mmbiz_jpg/YBFV3Da0NwsKDJJUkJTEwLBWnTCxr1TrQFR3oVfxMpgjt1Q4oWJbLTp3CHEVHVrick7hHrybw01GrSCKSuOaUiaw/640?wx_fmt=jpeg&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片"></p> <h3 id="_2-首屏时间计算"><a href="#_2-首屏时间计算" class="header-anchor">#</a> 2.首屏时间计算</h3> <p>我们知道首屏时间是一项重要指标，但是又很难从 performance 中拿到，来看下首屏时间计算主要有哪些方式？</p> <p>https://web.dev/first-meaningful-paint/</p> <ol><li><p>用户自定义打点—最准确的方式（只有用户自己最清楚，什么样的时间才算是首屏加载完成）</p></li> <li><p>lighthouse 中使用的是 chrome 渲染过程中记录的 trace event</p></li> <li><p>可利用 Chrome DevTools Protocol 拿到页面布局节点数目。思想是：获取到当页面具有最大布局变化的时间点</p></li> <li><p>aegis 的方法：利用 MutationObserver 接口，监听 document 对象的节点变化。</p> <p>检查这些变化的节点是否显示在首屏中，若这些节点在首屏中，那当前的时间点即为首屏渲染时间。但是还有首屏内图片的加载时间需要考虑，遍历 <code>performance.getEntries()</code> 拿到的所有图片实体对象，根据图片的初始加载时间和加载完成时间去更新首屏渲染时间。</p></li> <li><p>利用MutationObserver 接口提供了监视对 DOM 树所做更改的能力，是 DOM3 Events 规范的一部分。</p> <p>方法：在首屏内容模块插入一个 div，利用 Mutation Observer API 监听该 div 的 dom 事件，判断该 div 的高度是否大于 0 或者大于指定值，如果大于了，就表示主要内容已经渲染出来，可计算首屏时间。</p></li> <li><p>某个专利：在 loading 状态下循环判断当前页面高度是否大于屏幕高度，若大于，则获取到当前页面的屏幕图像，通过逐像素对比来判断页面渲染是否已满屏。
<img src="https://mmbiz.qpic.cn/mmbiz_jpg/YBFV3Da0NwsKDJJUkJTEwLBWnTCxr1Trbo61VJNzdlw7JsUicibuvVUL6mmaibicYZDibF8LbcWXKOpKYdQnZHN2mzQ/640?wx_fmt=jpeg&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片"></p></li></ol> <h3 id="_3-异常上报"><a href="#_3-异常上报" class="header-anchor">#</a> 3.异常上报</h3> <ul><li>1）js error监听 window.onerror 事件</li> <li>2）promise reject 的异常监听 unhandledrejection 事件<div class="language-js line-numbers-mode"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;unhandledrejection&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">&quot;WARNING: Unhandled promise rejection. Shame on you! Reason: &quot;</span>
        <span class="token operator">+</span> event<span class="token punctuation">.</span>reason<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li>3）资源加载失败window.addEventListener('error')</li> <li>4）网络请求失败重写 window.XMLHttpRequest 和 window.fetch 捕获请求错误</li> <li>5）iframe 异常window.frames[0].onerror</li> <li>6）window.console.error</li></ul> <h3 id="_4-cgi-上报"><a href="#_4-cgi-上报" class="header-anchor">#</a> 4.CGI 上报</h3> <p>大致原理：拦截 ajax 请求</p> <p>数据存储与聚合</p> <p>一个用户访问，可能会上报几十条数据，每条数据都是多维度的。即：当前访问时间、平台、网络、ip 等。这些一条条的数据都会被存储到数据库中，然后通过数据分析与聚合，提炼出有意义的数据。例如：某日所有用户的平均访问时长、pv 等。</p> <p>数据统计分析的方法：平均值统计法、百分位数统计法、样本分布统计法。</p> <h2 id="参考文章"><a href="#参考文章" class="header-anchor">#</a> 参考文章</h2> <ul><li><p><a href="https://developers.google.cn/web/fundamentals/performance/why-performance-matters" target="_blank" rel="noopener noreferrer">为什么性能如此重要<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://juejin.im/entry/598080226fb9a03c5d535cd5" target="_blank" rel="noopener noreferrer">Chrome 中的 First Meaningful Paint<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://www.infoq.cn/article/Dxa8aM44oz*Lukk5Ufhy" target="_blank" rel="noopener noreferrer">蚂蚁金服<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://docs.google.com/document/d/1BR94tJdZLsin5poeet0XoTW60M0SjvOJQttKT-JK8HI/view#heading=h.k50nnyhtptq0" target="_blank" rel="noopener noreferrer">FMP<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://www.zhihu.com/question/37585246" target="_blank" rel="noopener noreferrer">如何搭建前端监控体系<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://fex.baidu.com/blog/2014/05/build-performance-monitor-in-7-days/" target="_blank" rel="noopener noreferrer">FEX-7 天打造前端性能监控系统<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://cloud.tencent.com/developer/article/1061844https://segmentfault.com/a/1190000013532766" target="_blank" rel="noopener noreferrer">首屏时间自动化<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://blog.logrocket.com/how-to-practically-use-performance-api-to-measure-performance/Improving" target="_blank" rel="noopener noreferrer">如何使用 performance api 来测量性能<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://www.sitepen.com/blog/improving-performance-with-the-paint-timing-api/" target="_blank" rel="noopener noreferrer">Performance with the Paint Timing API<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://www.cnblogs.com/ranyonsue/p/9342839.html" target="_blank" rel="noopener noreferrer">chrome-performance 页面性能分析使用教程<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://help.aliyun.com/document_detail/58652.html?spm=a2c4g.11186623.6.627.7f782f4dsb9ZV7" target="_blank" rel="noopener noreferrer">阿里云前端监控概述<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://webenso.com/forget-page-load-time/" target="_blank" rel="noopener noreferrer">first load 与 first meaningful 的区别<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://cdc.tencent.com/2018/09/13/frontend-exception-monitor-research/" target="_blank" rel="noopener noreferrer">其他<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://juejin.im/post/5dca05f45188250c643b7d76" target="_blank" rel="noopener noreferrer">lightHouse 实现原理<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://michaljanaszek.com/blog/test-website-performance-with-puppeteer" target="_blank" rel="noopener noreferrer">Test website performance with Puppeteer<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新时间:</span> <span class="time">1/19/2021, 6:11:42 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/article/babel.html" class="prev">
        babel使用
      </a></span> <span class="next"><a href="/blog/article/docker.html">
        Docker 初体验
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.24a91d39.js" defer></script><script src="/blog/assets/js/2.1f317ab3.js" defer></script><script src="/blog/assets/js/9.ead6f8d8.js" defer></script>
  </body>
</html>
