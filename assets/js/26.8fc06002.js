(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{376:function(t,s,a){"use strict";a.r(s);var n=a(42),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"contack-list-id"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#contack-list-id"}},[t._v("#")]),t._v(" contack list(ID)")]),t._v(" "),a("h2",{attrs:{id:"一、背景及目的"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、背景及目的"}},[t._v("#")]),t._v(" 一、背景及目的")]),t._v(" "),a("ol",[a("li",[t._v("背景：\n目前 Mitra 主要业务为商家提供在 APP 为其线下客户购买虚拟商品的服务，大部分情况下，客户来源为商家周边的用户。根据数据显示，目前不同 DP 业务下，复购客户占比几乎都在"),a("code",[t._v("50%")]),t._v("以上，客户信息的重复度较高。")]),t._v(" "),a("li",[t._v("为了"),a("code",[t._v("提升商家运营效率")]),t._v("，增加"),a("code",[t._v("联系人功能")]),t._v("，目标服务商家维护"),a("code",[t._v("复购率较高")]),t._v("的客户的账号信息。同时提供功能服务商家在购买流程中"),a("code",[t._v("快速引用")]),t._v("，方便商家对复购率较高的客户进行关联，优化面对面的购买流程。"),a("a",{attrs:{href:"https://confluence.shopee.io/pages/viewpage.action?pageId=507545413#id-%5BID%5DContactListFavoriteNumber/PhoneBookforBill,PLNTokenandDP-1.%E9%9C%80%E6%B1%82%E8%83%8C%E6%99%AF%E4%B8%8E%E7%9B%AE%E6%A0%87",target:"_blank",rel:"noopener noreferrer"}},[t._v("具体需求点此查看"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"二、逻辑架构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、逻辑架构"}},[t._v("#")]),t._v(" 二、逻辑架构")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://i.loli.net/2021/05/21/wBLpGrlNa3VfiFm.png",alt:"contact整体流程"}})]),t._v(" "),a("h2",{attrs:{id:"三、前端逻辑设计"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、前端逻辑设计"}},[t._v("#")]),t._v(" 三、前端逻辑设计")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("3.1 整体流程")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/xiaobai1hao/images/raw/master/files/Untitled%20Diagram.png",alt:""}})])]),t._v(" "),a("li",[a("p",[t._v("3.2. getContactList 流程")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://i.loli.net/2021/05/21/iNFYrbwsc6KeyTB.png",alt:"20210521102710"}})])]),t._v(" "),a("li",[a("p",[t._v("3.3 结果以及详情页流程")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/xiaobai1hao/images/raw/master/files/%5BRN%5DcontactList%E7%BB%93%E6%9E%9C%E8%AF%A6%E6%83%85%E9%A1%B5.jpg",alt:""}})])])]),t._v(" "),a("h2",{attrs:{id:"四、接口设计"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四、接口设计"}},[t._v("#")]),t._v(" 四、接口设计")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("4.1 "),a("code",[t._v("contactList")]),t._v(" 对象结构")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" contactList "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    userName"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"联系人姓名"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    accounts"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"123456-1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"123456-2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"123456-3"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])])]),t._v(" "),a("li",[a("p",[t._v("4.2 处理后便于 "),a("code",[t._v("filter")]),t._v(" 的结构")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" resContactList "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    userName"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"联系人姓名"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    account"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"123456-1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    userName"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"联系人姓名"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    account"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"123456-2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    userName"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"联系人姓名"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    account"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"123456-3"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br")])])]),t._v(" "),a("li",[a("p",[t._v("4.3 结果以及详情页获取的数据中需新增需要显示新增联系人按钮数据以及"),a("code",[t._v("phone/account")]),t._v("、"),a("code",[t._v("当前产品类型")]),t._v("等字段方便native端进行添加联系人；从native获取到的数据中"),a("code",[t._v("outTradeNo")]),t._v("、"),a("code",[t._v("tradeId")]),t._v("、"),a("code",[t._v("service_name")]),t._v("可明确获取到")]),t._v(" "),a("ul",[a("li",[t._v("4.3.1 "),a("code",[t._v("outTradeNo")]),t._v("、"),a("code",[t._v("tradeId")]),t._v(" 用于从be获取数据")]),t._v(" "),a("li",[t._v("4.3.2 "),a("code",[t._v('service_name:"prepaid_pln"')]),t._v(" 是否可用于添加联系人时标记产品")])])])]),t._v(" "),a("h2",{attrs:{id:"五、前端监控"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五、前端监控"}},[t._v("#")]),t._v(" 五、前端监控")]),t._v(" "),a("p",[t._v("接口监控: "),a("code",[t._v("js-bridge")]),t._v("成功率")]),t._v(" "),a("h2",{attrs:{id:"六、遗留问题与风险预估"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#六、遗留问题与风险预估"}},[t._v("#")]),t._v(" 六、遗留问题与风险预估")]),t._v(" "),a("ul",[a("li",[t._v("6.1 获取不到contactList时不影响下单流程")]),t._v(" "),a("li",[t._v("6.2 联想输入框不影响原有逻辑")]),t._v(" "),a("li",[t._v("6.3 transactioService 服务修改\n"),a("ul",[a("li",[a("code",[t._v("getPaymentResult")]),t._v("、"),a("code",[t._v("getTransactionDetail")]),t._v("暴露"),a("code",[t._v("carrier_id")])])])])]),t._v(" "),a("h2",{attrs:{id:"七、部署方案与环境要求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#七、部署方案与环境要求"}},[t._v("#")]),t._v(" 七、部署方案与环境要求")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("React Native")]),t._v(" 端\n"),a("code",[t._v("BE")]),t._v("、"),a("code",[t._v("native")]),t._v("侧先进行部署，"),a("code",[t._v("RN")]),t._v("侧后部署")])]),t._v(" "),a("h2",{attrs:{id:"八、附录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#八、附录"}},[t._v("#")]),t._v(" 八、附录")])])}),[],!1,null,null,null);s.default=e.exports}}]);